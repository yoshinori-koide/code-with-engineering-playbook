# E2Eテスト方法

※ オリジナル: https://microsoft.github.io/code-with-engineering-playbook/automated-testing/e2e-testing/testing-comparison/

## 水平テスト

この方法は非常に一般的に使用されます。これは、複数のアプリケーションのコンテキスト全体で水平方向に発生します。データ取り込み管理システムの例を見てみましょう。

![Horizontal Test](./images/horizontal-e2e-testing.png)

インバウンドデータはさまざまなソースから注入される可能性がありますが、その後、ゲートウェイAPI、データ変換、データ検証、ストレージなどのさまざまなコンポーネントを含む可能性のある水平処理パイプラインに「フラット化」されます。 Transform-Load（ETL）処理では、データフローを水平スペクトルで追跡および監視でき、オプションをほとんど使用しないため、E2Eテストケース全体、ロギング、監査、認証などのサービスにとって重要ではありません。

## 垂直テスト

この方法では、アプリケーションの最も重要なすべてのトランザクションが最初から最後まで検証および評価されます。アプリケーションの個々のレイヤーは、上から下に向かってテストされます。バックエンドリソースに到達するためにミドルウェアサービスを使用するWebベースのアプリケーションの例を見てみましょう。

![Vertical Test](./images/vertical-e2e-testing.png)

 このような場合、各レイヤー（層）は、上下の「接続された」レイヤーと組み合わせて完全にテストする必要があります。このレイヤーでは、エンドツーエンドのデータフロー中にサービスが相互に「通信」します。これらの複雑なテストシナリオはすべて、適切な検証と専用の自動テストが必要になります。したがって、この方法ははるかに困難です。

## E2Eテストケースの設計ガイドライン

以下に、E2Eテストを実行するためのテストケースを設計する際に留意する必要のあるいくつかの **ガイドライン** を示します。

- テストケースは、エンドユーザーの観点から設計する必要があります。
- システムのいくつかの既存の機能のテストに焦点を当てる必要があります。
- 複数のテストケースを作成するには、複数のシナリオを検討する必要があります。
- システムの複数のシナリオに焦点を当てるために、さまざまなテストケースのセットを作成する必要があります。
