
# コラボレーション

※ オリジナル: https://microsoft.github.io/code-with-engineering-playbook/agile-development/collaboration/

## コラボレーションが重要な理由

エンゲージメントでは、高度なコラボレーションを目指しています。これは、一緒にコーディングすると、パフォーマンスが向上し、スプリント速度が速くなり、チーム全体で知識を共有できるようになるためです。

コラボレーションに使用する一般的なパターンは、ペアリングとスウォーミングの2つです。

**ペアプログラミング** (「ペアリング」) - スプリント中に一度に1つの共有ストーリーに割り当てられ、作業している2人のソフトウェアエンジニア。開発リーダーは、ユーザーストーリーを2人のエンジニアに割り当てます。1人はプライマリエンジニア（ストーリーの所有者）、もう1人はセカンダリエンジニア（ペアリング担当者）です。 この定義は、アジャイルアライアンスの [定義](https://www.agilealliance.org/glossary/pairing) と一致しています。

**スウォームプログラミング** (「スウォーミング」) - 3人以上のソフトウェアエンジニアが優先度の高いアイテムを共同で完成させます。

## プログラムをペアリングする方法

前述のように、すべてのストーリーは意図的にペアに割り当てられています。ペアリングの譲受人はスキルアップの過程にあるかもしれませんが、それでも彼らは開発努力の対等なパートナーです。以下は、ペアリングの一般的なガイドラインです。:

- ストーリー/製品バックログアイテム（PBI）を割り当てる際、ペアは、連携する方法を定義することについて慎重に検討し、完了する作業をしっかりと定義する必要があります。この情報は、ストーリーの説明と受け入れ基準で明確に表現する必要があります。これに関する期待は、両方のエンジニアによって伝達および合意される必要があり、実際の作業セッションの前に行う必要があります。
- ストーリーの所有者とペアリングの担当者は、作業を分割して定期的に同期するだけでなく、同じタスクで積極的に連携し、Teamsオンラインセッションを介して画面を共有する場合があります。画面の共有よりも、 [VS Live Share](https://visualstudio.microsoft.com/services/live-share/)などのコラボレーションツールの方が適している場合があります。すべてのコラボレーションが画面共有ベースである必要はありません。
- 共同セッションでは、1人のエンジニアが開発環境を提供し、もう1人のエンジニアが口頭で積極的に意見を述べます。
- エンジニアは、あるセッションから次のセッションに頻繁に場所を交換して、誰もがキーボードを制御できるようにします。
- エンジニアは、各ストーリーの開発中にコラボレーションのために機能ブランチを活用して、スプリントの最後に（単一の巨大なPRではなく）小さなプルリクエスト（PR）を作成します。
- コードは、割り当てられたペアの両方のメンバーによって、タスクが完了したときに意味のある場所とタイミングでリポジトリにコミットされます。
- ペアリングの担当者は、ストーリーの所有者にサポートされている間、毎日のスタンドアップ中にペアを表す声です。
- 両方の個人（所有者とペアの譲受人）の名前をPBIに表示すると、スプリントセレモニーで役立ち、ペアの譲受人による説明責任が高まります。Azure DevOpsカードを使用したこの例は、[ここ](./add-pairing-field-azure-devops-cards.md)にあります。

## ペアプログラミングがコラボレーションに役立つ理由

ペアプログラミングは、ストーリーを完成させるために両方のエンジニアが同等の責任を共有するため、コラボレーションに役立ちます。これは相互に有益な演習です。ストーリーの所有者は多くの場合、より多くの経験を積むことができますが、ペアリングの担当者は、繰り返しによって曇らない新鮮なビューをもたらします。

その他の利点は次のとおりです。:

- 欠陥が少なくなり、説明責任が高まります。2つの目を持つことで、エンジニアはエラーを見つけ、ユニットの作成や統合テストなど、見過ごされがちなタスクを思い出す機会が増えます。
- ペアリングにより、さまざまな経験と専門知識を持つエンジニアが、リアルタイムでコラボレーションしてフィードバックを受け取ることにより、互いに学ぶことができます。エンジニアが長時間一人でタスクに取り組み、孤立の限界点に達する代わりに、ペアリングにより、ペアは互いにチェックインできます。
- 問題を大声で説明するような単純なものでも、コードの問題やバグを発見するのに役立ちます。
- ペアリングは、ブレーンストーミングだけでなく、変数名の一貫性を保つなどの詳細の検証にも役立ちます。

## プログラムを群がらせるとき

すべてのPBIがスウォーミングを使用する必要があるわけではないことを知っておくことが重要です。いくつかのスプリントは、群れをまったく保証しないかもしれません。
いつ群がる：

- 作業は、集合的な心が協力するのに十分複雑です（作業の量が1回のスプリントで完了する量よりも多いためではありません）。
- 群れが取り組んでいるタスクは、他のストーリーの妨げになっています（またはなる危険が差し迫っています）。
- 前進する方法を決定するために協力的な努力が必要な未知のものが発見されました。集合的な知識と専門知識は、ストーリーをより迅速に前進させ、最終的にはより高品質のコードを作成するのに役立ちます。
- ペアリングセッション中に、対立または未解決の意見の相違が発生します。対立を解決するのを助けるために群がるセッションになるために仕事を促進してください。

## プログラムを群がらせる方法

ペアは、PBIが群れを正当化することを発見するとすぐに、チームの他のメンバーにそれをもたらします（スタンドアップ中または非同期で駐車場を介して）。チームのメンバーは、支援することに同意するか、ボランティアで支援します。

- ストーリーの所有者（またはペアリングの担当者）は、関係者にTeamsコール招待を送信します。これにより、カレンダーで時間をブロックすることにより、群れが専用のフォーカス時間を持てるようになります。
- 群れのセッション中に、群れが目前の主要な問題に取り組んでいる間に処理する必要がある何かがある場合、エンジニアは分岐して、再接続して報告することができます。これにより、群れはコアの側面に焦点を合わせ、すべて同じページに配置できます。
- チームの呼び出しは、解決策が見つかるか、代替パスが策定されるまで繰り返されます。

## 群れプログラミングがコラボレーションに役立つ理由

- スウォーミングにより、チームの集合的な知識と専門知識を集中的かつ統一された方法でまとめることができます
- 群がるのはアイテムをより早く閉じるのに役立つだけでなく、チームがお互いの長所と短所を理解するのにも役立ちます。
- チームがより高いレベルの信頼を構築し、まとまりのあるユニットとして機能できるようにします。

## 群れ、ペアリング、および/または分割を決定するタイミング

- ペアプログラミングには多くの時間を費やすことができますが、作業がどのように実行されるかを人々が理解している場合は、作業を分割することは理にかなっています。
- ストーリーが両方のエンジニアによって共同でタスクアウトされると、エンジニアはいくつかのタスクに別々に取り組み、最後に作業を組み合わせることができます。
- ペアプログラミングは、エンジニアが何をする必要があるのか​​、またはそれをどのように行うことができるのかについて完全に明確になっていない場合に、より役立ちます。
- スウォーミングは、ストーリーに割り当てられた2人のエンジニアが追加のサウンドボードを必要とする場合、または他のチームメンバーが提供できる専門知識を必要とする場合に行われます。

## コラボレーションの強化のメリット

知識を共有し、CSEとカスタマーエンジニアを「コードウィズ」方式でまとめることは、CSEエンゲージメントの重要な側面です。これにより、お客様とCSEチームの両方がAzure上に構築できるようになります。私たちは、エンジニアリングの基礎を示し、お客様を解放した後、より良い場所に残す責任があります。これは、私たちがチームとして協力し、協力する場合にのみ発生する可能性があります。ソフトウェア品質の向上に加えて、これはエンゲージメントに有益な社会的側面も追加します。

## 参考資料

- [AzureDevOpsユーザーストーリーにペアリングカスタムフィールドを追加する方法](./add-pairing-field-azure-devops-cards.md) - ペアリングのためにAzureDevOpsにIdentityタイプのカスタムフィールドを追加する

- [ペアプログラミングについて-マーティンファウラー](https://martinfowler.com/articles/on-pair-programming.html)

- [ペアプログラミングのハンズオンレッスン](https://github.com/The-V8/pair-programming-sessions) - これらは、チーム（MS内部または顧客を含む）へのペアプログラミングの導入をサポートするために使用（および適合）できます。