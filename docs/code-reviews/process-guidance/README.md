# プロセスガイダンス

※ オリジナル: https://microsoft.github.io/code-with-engineering-playbook/code-reviews/process-guidance/

## 一般的なガイダンス

コードレビューは、開発モデルに関係なく、ソフトウェアエンジニアリングチームのプロセスの一部である必要があります。さらに、チームはタイムリーにレビューを実行することを学ぶ必要があります。[プルリクエスト（PR）](../pull-requests.md)がハングしたままになっていると、追加のマージの問題が発生し、古くなり、作業が失われる可能性があります。適格なPRは、明確に定義された簡潔なタスクを反映しているため、内容がコンパクトであることが期待されます。単一のタスクのレビューは、完了するのに比較的短い時間で済みます。

コードレビュープロセスが健全で包括的であり、上記の目標を満たしていることを確認するには、次のガイドラインに従うことを検討してください。

- コードレビュー用の[サービスレベルアグリーメント（SLA）](https://en.wikipedia.org/wiki/Service-level_agreement)を確立し、それをチームの作業アグリーメントに追加します。
- 最新のDevOps環境には、PRを管理するためのツールが組み込まれていますが、レビュー待ちのタスクにラベルを付けたり、タスクボード上にタスク専用の場所を設定したりすると便利です - [AzDOタスクボードをカスタマイズする](../tools.md#task-boards)
- 毎日のスタンドアップミーティングで、レビュー待ちのタスクをチェックし、レビュー担当者が割り当てられていることを確認します。
- ジュニアチームとプロセスに不慣れなチームは、タスク自体と一緒にレビュー用に個別のタスクを作成することを検討できます。
- ツールを利用してレビュープロセスを合理化する - [コードレビューツール](../tools.md)
- 包括的コードレビューの促進 - [コードレビューへの包含](../inclusion-in-code-review.md)

## コードレビュープロセスの測定

チームがコードレビューのマージにかなりの時間がかかり、それがブロッカーになりつつあることに気付いた場合は、次の追加の推奨事項を検討してください。

1. スプリントサイクルごとにPRをマージするのにかかる平均時間を測定します。
1. 遡及的に、マージする時間を改善して優先順位を付ける方法を確認します。
1. スプリント間でマージする時間を評価して、プロセスが改善されているかどうかを確認します。
1. リマインダーとして必要な承認者に直接pingを実行します。

## コードレビューには、あまりにも多くのコード行を含めるべきではありません

開発者は数百行のコードをレビューできると言うのは簡単ですが、コードが特定の行数を超えると、欠陥発見の効果が低下し、適切なレビューを行う可能性が低くなります。コード行の制限を設定するのではなく、常識を使用することです。レビューするコードが多いほど、バグが潜入する可能性が高くなります。[PRサイズガイダンス](../pull-requests.md#size-guidance)を参照してください。

## 合理的な場合はいつでも自動化

自動化（リンティング、コード分析など）を使用して、「[nits](https://en.wikipedia.org/wiki/Nitpicking)」の必要性を回避し、レビュー担当者がPRの機能的側面により集中できるようにします。自動化されたビルド、テスト、およびチェック（[CIプロセス](../../continuous-integration/README.md)で達成可能なもの）を構成することにより、チームは人間のレビュー担当者を時間を節約し、適切な評価のために設計や機能などの領域に集中させることができます。これにより、チームは重要なことに集中するため、成功の可能性が高くなります。

## 役割固有のガイダンス

- [著者ガイダンス](author-guidance.md)
- [レビューアガイダンス](reviewer-guidance.md)
