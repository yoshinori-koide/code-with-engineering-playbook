# 証拠と対策

※ オリジナル: https://microsoft.github.io/code-with-engineering-playbook/code-reviews/inclusion-in-code-review/

## 証拠

コード品質保証項目の多くは、最新のバージョン管理および作業項目追跡システムのポリシーによって自動化または実施できます。たとえば、[Azure DevOps](https://azure.microsoft.com/en-us/services/devops/)（AzDO）または[GitHub](https://github.com/)のメインブランチのポリシーを検証することで、プロジェクトチームがコードレビューを実施していることを示す十分な証拠となる可能性があります。

* [ ] すべてのリポジトリのメインブランチにはブランチポリシーがあります。 - [ブランチポリシーを構成します](../tools.md#Configuring Branch Policies)
* [ ] プロジェクトリポジトリから生成されたすべてのビルドには、適切なリンター、単体テストの実行が含まれます。
* [ ] エラーが診断されたら、すべてのバグ作業項目に、それを導入したプル要求へのリンクを含める必要があります。これは学習に役立ちます。
* [ ] 各バグ作業項目には、コードレビューでバグがどのように検出されたか（または検出されなかったか）に関するメモを含める必要があります。
* [ ] プロジェクトチームは、発生した一般的な問題を反映するために、コードレビューチェックリストを定期的に更新します。
* [ ] 開発リーダーは、プルリクエストのサンプルをレビューするか、他の開発者と共同レビューを行って、コードレビュー担当者としてのスキルを向上させる必要があります。

## 対策

チームは、コードレビューのメトリックを収集して、その効率を測定できます。いくつかの有用なメトリックは次のとおりです。

* 欠陥除去効率 (DRE) - リリース前に欠陥を除去する開発チームの能力の尺度
* 時間メトリック:
  * コード検査セッションの準備に使用された時間
  * レビューセッションで使用された時間
* 時間単位/会議ごとに検査されるコード行（LOC）

これらのメトリックを手動で追跡することは、Excelシートなどで完全に合理的なソリューションです。プロジェクト管理プラットフォームの機能を利用することも可能です。たとえば、AzDOは、[バグの追跡](https://docs.microsoft.com/en-us/azure/devops/boards/backlogs/manage-bugs?view=azure-devops&tabs=new-web-form)を含むメトリックのダッシュボードを有効にします。さまざまなプラットフォーム用の既製のプラグインを見つけることができます（たとえば、 [GitHub Marketplace](https://github.com/marketplace)を参照してください）。または、これらの機能を自分で実装することを選択できます。

レビューのおかげで削除された欠陥は、本番環境で見つけるよりもはるかに低コストであるため、コードレビューを実行するコストは実際にはマイナスであることを忘れないでください。

詳細については、「[参考資料](#参考資料)」の下のリンクを参照してください。

## 参考資料

* [コード検査のガイド](http://www.ganssle.com/inspections.pdf)
* [欠陥除去効果](https://www.westfallteam.com/sites/default/files/papers/defect_removal_effectiveness.pdf)
